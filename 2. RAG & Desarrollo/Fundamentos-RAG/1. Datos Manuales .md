# Conceptos Clave de RAG ‚Äì Parte 1: Datos Manuales üìÑ

## 1. ¬øQu√© es Retrieval‚ÄëAugmented Generation (RAG)?

Retrieval‚ÄëAugmented Generation (RAG) es un patr√≥n arquitect√≥nico que combina dos etapas:

1. **Recuperaci√≥n de informaci√≥n** desde tus fuentes empresariales (documentos, FAQs, bases de datos privadas, etc.).  
2. **Generaci√≥n de respuestas** por medio de un modelo de lenguaje (LLM), contextualizadas con la informaci√≥n recuperada.

En lugar de confiar √∫nicamente en la capacidad general del modelo, RAG recupera fragmentos relevantes para enriquecer las respuestas, aumentando precisi√≥n y confiabilidad .

### ¬øPor qu√© usar RAG?

- Permite usar **contenidos propios o recientes** que el modelo pre-entrenado no incluye .  
- Reduce el riesgo de **alucinaciones** (hallazgos incorrectos), ya que las respuestas se basan en datos reales .  
- Mejora la **transparencia**, ya que se pueden citar las fuentes directamente .  
- Evita el costo y la complejidad del re-entrenamiento constante, ya que se basa en prompt + recuperaci√≥n .

---

## 2. ¬øC√≥mo funciona RAG? ‚Äì Flujo paso a paso

### a) Creaci√≥n de √≠ndice vectorial (indexaci√≥n)

- Se toman los documentos (PDF, DOCX, TXT, etc.) y se dividen en fragmentos ("chunks").
- Cada fragmento se convierte en un vector mediante un modelo de embeddings (por ej. `text-embedding-ada-002`).
- Estos vectores se almacenan en un √≠ndice optimizado para b√∫squeda sem√°ntica, como Azure AI Search .

### b) Recuperaci√≥n

- La consulta de usuario se transforma en embedding.
- El √≠ndice devuelve los fragmentos m√°s relevantes, usando:
  - **Vector search**: busca por similitud sem√°ntica.
  - **Full-text search**: coincidencia textual exacta.
  - **Hybrid search**: combinaci√≥n de ambos m√©todos para resultados m√°s robustos .

### c) Generaci√≥n

- Se construye un prompt que mezcla:
  - **Pregunta del usuario**
  - **Fragmentos recuperados**
- El LLM genera una respuesta coherente, fundamentada en los datos proporcionados.

---

## 3. ¬øQu√© es un Vector Index?

- Repositorio de vectores derivados de contenido fragmentado.
- Permite b√∫squedas sem√°nticas altamente eficientes y relevantes .
- En el portal de Azure AI Foundry, se crea bajo‚ÄØ**Knowledge ‚Üí Vector Indexes**‚ÄØy t√≠picamente se basa en Azure AI Search .

---

## 4. Tipos de b√∫squeda en RAG

- **Vector search**: ideal para recuperar contenido similar en significado, superando traducciones y sin√≥nimos .  
- **Full‚Äëtext search**: √∫til cuando las preguntas requieren coincidencias textuales exactas.  
- **Hybrid search**: combina ambas estrategias, mejorando tanto precisi√≥n como relevancia .

---

## 5. Beneficios de RAG en entornos empresariales

| Beneficio                  | Impacto pr√°ctico |
|---------------------------|------------------|
| Datos propios/recentes    | Se actualizan en el √≠ndice sin retrain. |
| Control de info err√≥nea   | RAG basa las respuestas en documentaci√≥n real. |
| Mayor transparencia       | Se pueden mostrar citas de los fragmentos usados. |
| Eficiencia operativa      | Acelera respuestas, reduce carga en IT . |

---

## 6. Evaluaci√≥n de un sistema RAG

Para medir su desempe√±o hay que evaluar:

- **Retrieval quality**: relevancia de los documentos recuperados.  
- **Groundedness**: coherencia entre documentos y respuesta.  
- **Completeness**: que la respuesta cubra todas las partes de la pregunta .

Azure AI Foundry permite configurar evaluadores autom√°ticos para medir groundedness y consistencia factual .

---

## 7. Recomendaciones pr√°cticas para RAG

- Usa embeddings de calidad (p.ej. `text-embedding-ada-002`).
- Ajusta el tama√±o de los chunks para balancear contexto y costo.
- Prefiere **hybrid search** para combinaciones robustas.
- Dise√±a prompts que indiquen al LLM que "solo responda lo que est√° en documentos".

---

## üìö Referencias oficiales

- "Retrieval Augmented Generation (RAG) in Azure AI Search"   
- "Retrieval‚ÄëAugmented‚ÄëGeneration in Azure AI Foundry portal"   
- Azure AI Search vector & full-text/hybrid search overview   
- Principios de transparencia, relevancia y groundedness en RAG   
- Azure OpenAI on your data e integraci√≥n de fuentes con RAG   
